{"version":3,"sources":["../src/config.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;;;;;AAEA,MAAM;AAAA,+BAAY,aAAoB;AACpC,UAAM,aAAa,MAAM,sBAAO,aAAP,CAAzB;AACA,QAAI,CAAC,UAAL,EAAiB;AACf,aAAO,EAAP;AACD;AACD,UAAM,SAAS,QAAQ,UAAR,CAAf,CALoC,CAKA;;AAEpC,WAAO,IAAP,CAAY,MAAZ,EACC,GADD,CACK;AAAA,aAAS,OAAO,KAAP,CAAT;AAAA,KADL,EAEC,OAFD,CAES,iBAAS;AAChB,UAAI,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,MAAb,GAAsB,CAA1C,EAA6C;AAC3C,cAAM,QAAQ,MAAM,MAApB;AACA,cAAM,MAAN,GAAe;AAAA,iBAAM,yBAAU,GAAG,MAAM,GAAN,CAAU;AAAA,mBAAK,GAAL;AAAA,WAAV,CAAb,CAAN;AAAA,SAAf,CAF2C,CAEa;AACzD,OAHD,MAGO,IAAI,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,MAAb,KAAwB,CAA5C,EAA+C;AACpD,cAAM,MAAN,GAAe,MAAM,MAAN,CAAa,CAAb,CAAf,CADoD,CACpB;AACjC;AACD,UAAI,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,MAAb,GAAsB,CAA1C,EAA6C;AAC3C,cAAM,QAAQ,MAAM,MAApB;AACA,cAAM,MAAN,GAAe;AAAA,iBAAM,yBAAU,GAAG,MAAM,GAAN,CAAU;AAAA,mBAAK,GAAL;AAAA,WAAV,CAAb,CAAN;AAAA,SAAf,CAF2C,CAEa;AACzD,OAHD,MAGO,IAAI,MAAM,MAAN,IAAgB,MAAM,MAAN,CAAa,MAAb,KAAwB,CAA5C,EAA+C;AACpD,cAAM,MAAN,GAAe,MAAM,MAAN,CAAa,CAAb,CAAf,CADoD,CACpB;AACjC;AACF,KAfD;AAgBA,WAAO,MAAP;AACD,GAxBK;;AAAA;AAAA;AAAA;AAAA,IAAN;;kBA0Be,S","file":"config.js","sourcesContent":["import findUp from 'find-up';\nimport multipipe from 'multipipe';\n\nconst getConfig = async (): Config => {\n  const configFile = await findUp('.nurture.js');\n  if (!configFile) {\n    return {};\n  }\n  const config = require(configFile); // eslint-disable-line\n\n  Object.keys(config)\n  .map(phase => config[phase])\n  .forEach(phase => {\n    if (phase.stdout && phase.stdout.length > 1) {\n      const pipes = phase.stdout;\n      phase.stdout = () => multipipe(...pipes.map(f => f())); // eslint-disable-line\n    } else if (phase.stdout && phase.stdout.length === 1) {\n      phase.stdout = phase.stdout[0]; // eslint-disable-line\n    }\n    if (phase.stderr && phase.stderr.length > 1) {\n      const pipes = phase.stderr;\n      phase.stderr = () => multipipe(...pipes.map(f => f())); // eslint-disable-line\n    } else if (phase.stderr && phase.stderr.length === 1) {\n      phase.stderr = phase.stderr[0]; // eslint-disable-line\n    }\n  });\n  return config;\n};\n\nexport default getConfig;\n"]}